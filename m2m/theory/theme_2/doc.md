---
layout: page
title: Т2 Протоколы Modbus TCP и MQTT в АСУ ТП
---

# Протокол Modbus TCP
Modbus был представлен в 1979 году компанией Modicon (ныне Schneider Electric). Это был открытый стандарт, работающий по интерфейсу RS-232. Позже появилась реализации протокола для интерфейсов RS-485 и Modbus TCP. Протокол быстро набрал популярность, и многие производители стали внедрять его в своих устройствах.

**Modbus ASCII.** В режиме ASCII каждый байт данных передается в виде двух ASCII-символов, что делает трафик удобочитаемым для человека, но менее эффективным, чем Modbus RTU.

Формат сообщения:
| Часть кадра       | Символы ASCII | Описание                                                                    |
| ----------------- | ------------- | --------------------------------------------------------------------------- |
| Начало            | : (двоеточие) | Start — сигнализирует начало кадра (1 байт, 0x3A)                           |
| Адрес             | 2 символа     | Адрес ведомого устройства (Slave ID)                                        |
| Функция           | 2 символа     | Код функции Modbus (например, 03 — чтение регистров)                        |
| Данные            | N x 2 символа | Полезная нагрузка сообщения                                                 |
| Контрольная сумма | 2 символа     | Ыычисляется для проверки целостности данных                                 |
| Конец             | CR LF         | Конец кадра — пара символов 0x0D (возврат каретки) и 0x0A (перевод строки). |

Пример запроса:\
Прочитать 2 регистра хранения, начиная с адреса 40001 (смещение 0 в протоколе).
| Начало | Адрес | Функция | Данные       | Контрольная сумма | Конец |
| ------ | ----- | ------- | ------------ | ----------------- | ----- |
| :      | 01    | 03      | 00 00  00 02 | FA                | CR LF |

Особенности:
* может быть более удобен в случаях необходимости отладки
* используется в качестве атавизма
* для передачи одного и того же смысла требуется больше данных = ниже пропускная способность

# Протоколы Event Sourcing

# Источники
[Источник](https://habr.com/ru/companies/advantech/articles/450234/)
