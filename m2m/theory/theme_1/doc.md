---
layout: page
title: Т1 Основы М2М-коммуникаций в промышленных системах
---

# Принципы организации M2M-коммуникаций
Межмашинное взаимодействие (M2M – machine to machine) относится к процессу
связи физического объекта или устройства на машине с другими того же типа, в основном
для мониторинга, но также и для целей управления.


По способам передачи данных M2M-коммуникации бывают:
* **проводные**
* **беспроводные**

При передаче данных одни и те же протоколы (которые имеют такую возможность) могут быть применимы как при проводной реализации, так и беспроводной.


Требования к системе:
* **масштабируемость** (система должна иметь возможность обработать информационный обмен между новыми устройствами)
* **информационная безопасность** (данными должны быть идентифицируемы только коммуницируемыми устройствами)
* **логируемость** (должны быть реализованы логи данных, в том случае при ошибочных ситуациях для последующей обработки)


Отличия между М2М и IOT:

![](static/m2m_and_iot.png)

|     Параметр     |                                     М2М                                      |                                                    IOT                                                     |
| :--------------: | :--------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------: |
|  Предназначение  |                   Прямое взаимодействие между устройствами                   | Глобальная сеть связанных устройств, объединенных в облачную платформу для сбора, анализа и обмена данными |
| Масштабируемость | Ограниченная масштабируемость, часто ориентированная на отдельные соединения |                      Высокая масштабируемость за счет подключения множества устройств                      |
|       Цель       |                    Автоматизация процессов и коммуникаций                    |                  Анализ данных, оптимизация и сетевое взаимодействие в больших масштабах                   |


Применение M2M:
* **интернет вещей** (IOT): системы управления уличным освещением, мониторинга ЖКХ, управления парковками, камеры наблюдения и общественная безопасность
* **логистика**: GPS-мониторинг, управление автопарком, отслеживание грузов, телематика, системы «умного» транспорта, автосигнализации, GPS
* **здоровье**: удаленный мониторинг состояния пациентов, телемедицина, управление медицинским и лабораторным оборудованием
* **платежные системы**: банкоматы, POS-терминалы
* **АСУ ТП**: автоматизация, мониторинг оборудования, управление производственными процессами, контроль качества

***

# Архитектура M2M

Основные компоненты М2М-коммуникации:
* **источник данных** - устройство, которое может передать полезную информацию
* **среда передачи данных** (включает интерфейсы и протоколы)
* **потребитель данных** - устройство, которое может получить данные и обработать

![](static/m2m_arch.png)


В общем смысле можно определить, что система должна состоять из устройств, которые имеют информацию, готовые ее передавать, или получать. Также из системы передачи данных, состоящую из физического уровня и прикладного, для реализации среды передачи данных между устройствами.
Для M2M-коммуникаций достаточно этих условий.

Общая реализованная сеть коммуникаций может быть реализована через интернет, либо локальную физическую среду. Также для получения данных могут быть реализованы интерфейсы в виде API/SDK/приложений.

Для доступа сети M2M к сети интернет, в случае если используется локальная сеть M2M, будет применяться шлюз (gateway), который позволяет скоординировать общение между локальной и глобальной сетями.

***

# Современные технологии в информационном обмене
## ZigBee

![Архитектура ZigBee](static/zigbee_architecture.png)

Zigbee - стандарт беспроводной связи для умных устройств.
Центральным узлом в сети Zigbee является **координатор**. Он создает сеть, выбирает, на каком канале общаться, может выступать как «центр доверия». 

**Роутеры** — устройства уже чуть попроще. Они служат зачастую ретрансляторами сообщений от конечных устройств. 

**Конечные устройства** — то, что мы объединяем в сеть, то есть выключатели, лампочки, датчики движения и прочие гаджеты.

Главное преимущество Zigbee - его низкое энергопотребление, благодаря чему устроства могут продолжительное время работать от источников питания. Достигается это в том числе за счет того, что период активности (отправки сообщений) крайне мал, основное время устройства простаивают в энергоэффективном режиме.

Zigbee не предназначен для передачи большого количества данных, и используется в системах IoT для передачи показаний сенсоров, для чего и подходит максимально хорошо.

Пример реализации:
![Пример реализации ZigBee](static/zigbee_example.png)

## LoRaWAN

![Архитектура LoRaWAN](static/lorawan_architecture.png)

LoRa (Long Range) - это фактически вид модуляции сигнала, который используется при передачи данных в сети LoRaWAN.

Архитектура сети включает следующие компоненты:
* конечные устройства - датчики интернета вещей, которые собирают данные, либо могут быть исполнительными механизмами
* шлюзы (базовые станции) - принимают сигнал уровня LoRa и транслируют на сервер
* сервер - управляет сетью, обрабатывает данные, реализует авторизацию, аутентификацию, обеспечивает безопасность передачи данных (в наименьшем функционале обеспечивает передачу данных между сетью LoRa и интерфейсами, в наибольшем - имеет дополнительные возможности, в зависимости от реализованного функционала)
* приложение - реализация сервиса, подключенного к интерфейсу сервера, для дальнейшей обработки/управления/визуализации

Особенности:
* дальность связи (5-10 км в городской и открытой местности)
* низкое энергопотребление
* масштабируемость
* безопасность на всех уровнях
* открытость стандарта (для возможности реализации кастомных устройств и прошивок)

Пример реализации:
![Пример реализации LoRaWAN](static/lorawan_example.png)

## NB-Iot

## Bluetooth + BT

## NFC

## MQTT, AMQP

В отличие от стандартов описанных ранее, MQTT и AMQP в качестве более низкого уровня используют более общепринятый и глобальный стандарт (интернет)

***

**Источники, использованные при подготовке материала**

[Источник](https://farabi.university/storage/files/365899673667175e2938604348907000_%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D1%8F_5%20M2M-%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F%20%D0%B2%20IoT+.pdf), [Источник](https://reolink.com/blog/what-is-m2m/), [Источник](https://www.a1.digital/knowledge-hub/what-is-m2m-communication/), [Источник](https://xakep.ru/2019/09/30/zigbee-exploits/), [Источник](https://ivan.bessarabov.ru/blog/what-is-zigbee), [Источник](https://lar.tech/blog/chto-takoe-lorawan/), [Источник](https://www.mdpi.com/1424-8220/19/1/215/xml), [Источник](https://gelecekbt.com/RS485-to-LORA-Converter-CLR-LORA-C485D)