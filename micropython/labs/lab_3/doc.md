---
layout: page
title: Лабораторная работа №3 "Основы работы с Wi-Fi"
parent: "Разработка программного обеспечения на MicroPython"
---


# Цель работы
> Ознакомиться с работой Wi-Fi на микроконтроллере ESP32

# Теоретические сведения
* [Пример кода]({{site.baseurl}}/micropython/labs/lab_3/example/)

**Модуль networking:**
```python
import network

wlan = network.WLAN(network.STA_IF) # создать интерфейс станции
wlan.active(True)       # активировать интерфейс
wlan.scan()             # сканировать точки доступа
wlan.isconnected()      # проверить, подключена ли станция
                        # к точке доступа
wlan.connect('ssid', 'password') # подключиться к точке доступа 
wlan.config('mac-адрес')      # прочесть MAC-адрес устройства
wlan.ifconfig()         # прочесть IP-адрес, маску подсети,
                        # сетевой шлюз и DNS-сервер

ap = network.WLAN(network.AP_IF) # создать интерфейс точки доступа 
ap.config(essid='ESP-AP') # задать ESSID точки доступа
ap.config(max_clients=10) # задать количество клиентов,
                          # которые могут подключиться к сети
ap.active(True)         # активировать интерфейс
```
**Функция для подключения к локальной WiFi-сети:**
```python
def do_connect():
    import network
    wlan = network.WLAN(network.STA_IF)
    wlan.active(True)
    if not wlan.isconnected():
        print('подключение к сети...')
        wlan.connect('essid', 'пароль')
        while not wlan.isconnected():
            pass
    print('настройки сети:', wlan.ifconfig())
```

# Задание
1. Реализация точки доступа Wi-Fi на ESP32
    * написать код программы (точка доступа Wi-Fi на ESP32, вывод mac-адреса подключенных к сети устройств на экран)
    * подключение к этой точке доступа с телефона, сравнение mac-адреса телефона с полученным от ESP32
2. Реализация простейшего веб-сервера на ESP32
    * написать код программы (подключение к точке доступа Wi-FI; написание веб-сервера на ESP32,
где по переходу по "ip-адрес:порт" должно отобразиться сообщение "Привет, [Имя Фамилия выполняющего]")
    * раздать точку доступа с телефона, проследить за статусом подключения
    * на телефоне открыть браузер и перейти по указанному адресу для веб-сервера, зафиксировать результаты
3. Реализовать передачу внутренней температуры чипа на веб-сервер

# Отчет
В отчете представить скриншоты и описание действий по пунктам, представленным в задании

# Защита
* [Источник](https://habr.com/ru/companies/timeweb/articles/672494/)
* [Источник](https://habr.com/ru/companies/timeweb/articles/677452/)
