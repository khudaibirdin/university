---
layout: page
title: Лабораторная работа №10 "Реализация Modbus TCP - MQTT взаимодействия"
parent: "Разработка программного обеспечения на MicroPython"
---


# Цель работы
> Ознакомиться с принципом работы протокола Modbus TCP и MQTT

# Теоретические сведения

# Задание
Схема взаимодействия компонентов представлена на рисунке:
![Схема взаимодействия компонентов](static/scheme.png)

Необходимо реализовать на ESP32 на языке MicroPython:
* опрос 3-х slave-устройств по Modbus TCP, которые являются датчиками
* реализовать отправку данные по MQTT
* учесть, что данные имеют разные источники и должны быть отделены в MQTT (в MQTT должно быть понятно что это за измерение)
* учесть, что необходимо указать источник отправителя данных (в MQTT должно быть понятно кто отправил данные)

|     | Датчик      | ip-адрес | Порт | Регистр | Кол-во регистров |
| --- | ----------- | -------- | ---- | ------- | ---------------- |
| 1   | температуры | ip       | 5021 | 0       | 1                |
| 2   | давления    | ip       | 5022 | 0       | 1                |
| 3   | расхода     | ip       | 5023 | 0       | 1                |

Параметры Modbus RTU slave:
* slave 1 : ip-адрес:5021
* slave 2 : ip-адрес:5022
* slave 3 : ip-адрес:5023

**Учесть:**
* код должен быть уникальным
* код должен иметь комментарии
* данные, полученные в mqtt должны быть идентифицируемы

# Отчет
В отчете представить скриншоты и описание действий по пунктам, представленным в задании

# Защита
* [Источник]()
